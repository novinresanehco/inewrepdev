function JBSlider(a){var b=this;var c="."+a+" ";b.mItemHeight=Number(jQuery(c+".JBSlider .controller .wrapper .item").height())+2;b.mItemWidth=Number(jQuery(c+".JBSlider .controller .wrapper .item").width());b.mTotal=Number(jQuery(c+".JBSlider .controller .wrapper .item").length);b.mClone=null;b.item=null;b.cItem=".item.i0";b.vItemHeight=Number(jQuery(c+".JBSlider .view .wrapper .item").height())+2;b.vItemWidth=Number(jQuery(c+".JBSlider .view .wrapper .item").width());this.init=function(a){b.bgColor=a.bgColor;b.imageBorder=a.imageBorder;b.hoverColor=a.hoverColor;b.scrollColor=a.scrollColor;b.descTColor=a.descTColor;b.descColor=a.descColor;b.descBgColor=a.descBgColor;b.descOpacity=a.descOpacity;b.btnBgColor1=a.btnBgColor1;b.btnBgColor2=a.btnBgColor2;b.btnBgColor1h=a.btnBgColor1h;b.btnBgColor2h=a.btnBgColor2h;b.btnColor=a.btnColor;b.btnText=a.btnText;b.transEffect=a.transEffect;b.slideSpeed=Number(a.slideSpeed);b.autoSlide=Number(a.autoSlide);jQuery(c+".JBSlider .view .wrapper .item .description .itemLink").text(b.btnText);b.organize();b.controller();b.scroller();b.automate();jQuery(c+".description a").click(function(){return false})};this.organize=function(){jQuery(c+".JBSlider .controller .wrapper .item:last").after(jQuery(c+".JBSlider .controller .wrapper .item:first"));jQuery(c+".JBSlider .controller .wrapper .item").each(function(a){jQuery(this).css({top:b.mItemHeight*a})});jQuery(c+".JBSlider .view .wrapper .item").each(function(a){jQuery(this).css({left:b.vItemWidth*a})});jQuery(c+".JBSlider .controller .wrapper .container").css({height:b.mItemHeight*(b.mTotal-1)-2});jQuery(c+".JBSlider .view .wrapper .item:gt(0)").hide()};this.controller=function(){jQuery(c+".JBSlider .controller .wrapper .item").click(function(){if(jQuery(c+".JBSlider .controller .wrapper .item").is(":animated")){return false}b.item=jQuery(this).attr("class").replace("item ",".item.");var a=jQuery(this).index();b.mClone=jQuery(this).clone(true);jQuery(c+".JBSlider .controller .wrapper .item:last").after(b.mClone.css({backgroundColor:b.imageBorder}));jQuery(c+".JBSlider .controller .wrapper .item:last").css({top:b.mItemHeight*b.mTotal});jQuery(this).animate({left:-1*b.mItemWidth},b.slideSpeed,b.transEffect,function(){jQuery(this).remove()});jQuery(c+".JBSlider .controller .wrapper .item:gt("+a+")").each(function(){jQuery(this).animate({top:jQuery(this).position().top-b.mItemHeight},b.slideSpeed,b.transEffect)});b.view()})};this.view=function(){jQuery(c+".JBSlider .view .wrapper "+b.item).css({left:0+b.vItemWidth}).show();jQuery(c+".JBSlider .view .wrapper "+b.cItem).animate({left:-1*b.vItemWidth},b.slideSpeed,b.transEffect,function(){jQuery(this).hide()});jQuery(c+".JBSlider .view .wrapper .item .description").animate({opacity:0});jQuery(c+".JBSlider .view .wrapper .item .description .itemLink").animate({opacity:0});jQuery(c+".JBSlider .view .wrapper .item .descBlock").animate({opacity:0});jQuery(c+".JBSlider .view .wrapper "+b.item).animate({left:0},b.slideSpeed,b.transEffect,function(){b.description()});b.cItem=b.item};this.description=function(){jQuery(c+".JBSlider .view .wrapper "+b.item+" .descBlock").animate({opacity:b.descOpacity});jQuery(c+".JBSlider .view .wrapper "+b.item+" .description").animate({opacity:1});jQuery(c+".JBSlider .view .wrapper "+b.item+" .description .itemLink").animate({opacity:1})};this.scroller=function(){jQuery(c+".JBSlider .controller .wrapper").jScrollPane({verticalDragMaxHeight:"61",hideFocus:true})};this.automate=function(){if(b.autoSlide!=0){var a=0;jQuery(c+".JBSlider").live("mouseover mouseout",function(b){if(b.type=="mouseover"){a=1}else{a=0}});setInterval(function(){if(a!=1){jQuery(c+".JBSlider .controller .wrapper .container .item:first").trigger("click")}},b.autoSlide)}}}